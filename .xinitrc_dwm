#!/usr/bin/env sh

has_exe() {
    which "$1" >/dev/null 2>/dev/null
}

[ -x "$HOME/.xinitrc_local_env" ] && eval "$(cat "$HOME/.xinitrc_local_env")"

[ -x "$HOME/.local/dwm/helpers/bar" ] && "$HOME/.local/dwm/helpers/bar" &
[ -x "$HOME/.xinitrc_common" ] && "$HOME/.xinitrc_common"
has_exe picom && picom \
    --no-fading-openclose \
    --no-fading-destroyed-argb \
    --backend glx \
    -c -D 1 &
has_exe nitrogen && nitrogen --restore &
has_exe notification-daemon && notification-daemon &
[ -x "$HOME/.audio_start" ] && "$HOME/.audio_start" &

[ -x "$HOME/.xinitrc_local" ] && "$HOME/.xinitrc_local"
exec dwm
