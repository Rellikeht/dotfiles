#!/bin/sh

# Coreutils and similar
alias sudo=doas
alias lsn='ls --color=never'
alias ls='TERM=st-256color ls --color=always'
alias lf='ls -F'
alias ll='lf -la'
alias lt='ls -t'
alias llt='lt -la'
alias grepn='grep --color=never'
alias grep='grep --color=always'
alias rgrep='grep -r'
alias bgrep='grep -I'
alias exa='exa --color=always'
alias ell='exa -la'
alias bat='bat --color always'
alias batl='bat -l lisp'
alias less='less -r -i'
alias les='less -F'
alias dus='du -sh'
alias sb=sbase-box
alias bb=busybox
alias ag='ag --color --depth -1'
alias agh='ag --hidden'
#alias rg='rg -S'
alias rgh='rg --hidden'
alias egrep='grep -E'
alias eg='egrep'

# Text Editors
alias nano='nano --rcfile=~/.nanorc'
alias nv=nvim
alias mvim='svim -f'
alias m=mvim
alias svim='svim -f -X'
alias s=svim
alias gsv=gsvim
alias se=exs
alias emg=emacs
alias em='emacs -nw'
alias emc='emacsclient -nw'
alias gemc='emacsclient -c'
alias emd='emacs --daemon'
alias vis='TERM=st-256color vis'
alias rsv='doas svim'
alias rka='doas kak'
alias rvi='doas vis'
alias fvc="fe svim"
alias fv="fed svim"
alias fkc="fe kak"
alias fk="fed kak"

alias sns=sensors
alias lcs='loginctl suspend'
alias rb=reboot
alias po=poweroff
alias rrb='doas reboot'
alias rpo='doas poweroff'

# its_just_grep - symlink for grep in /usr/local/bin for nonconflicting name
alias its_just_grep='its_just_grep --color=always'
alias tbg='top -b -d 1 | its_just_grep -v its_just_grep | its_just_grep -E'
alias tbgm='top -b -d 1 -e m | its_just_grep -v its_just_grep | its_just_grep -E'
alias mu='mount -o rw,uid=$UID'
alias rmu='doas mount -o rw,uid=$UID,gid=$GID'
alias um=umount
alias rum='doas umount'

# Settings
alias pm=pulsemixer
alias am=alsamixer
alias als='alias | grep'

# Tools
alias wb='bins | grep'
alias qc="qalc -s 'decimal comma off'"
alias lsf='ls -FA --color=never --dereference-command-line-symlink-to-dir'
alias fzf='fzf -m -e'
alias fzy='fzy -l 20'
alias fzc='echo $PATH | xargs -d ":" ls 2>/dev/null | grep -vE ":$" | fzy | sh -s'
alias tm=tmux
alias tma='tmux attach'
alias sa='screen attach'
alias bm='BEMENU_BACKEND=curses bemenu'
alias nnn='nnn -d'
alias xcc='xclip -i -selection clipboard'
alias xcp='xclip -o -selection clipboard'
alias myip="curl -s ipinfo.io/ip | sed 'a\\'"
alias edr='doas svim'
alias sal='source /etc/.aliasrc'
alias sfn='source /etc/.funcrc'
alias bal='bat /etc/.aliasrc'
alias bfn='bat /etc/.funcrc'
alias de='dc -e'
alias plc='plocate'
alias plci='plocate -i'
alias rlc='plocate -r'
alias rlci='plocate -ir'
alias prr='prime-run'
alias prg='progress -M -W 1'
alias prgc='prg \
	-a ffmpeg -a ebook-convert -a pdfgrep\
	-a yt-dlp -a youtube-dl -a you-get \
	-a vifm -a tree -a mpv \
	-a wget -a curl -a aria2 \
	-a rm -a du -a dd \
	-a rar -a unrar \
	-a zstd -a zstdcat -a zstdgrep -a unzstd \
	-a agrep -a ag -a pcregrep \
	-a less -a tail -a tac \
	-a sed -a awk \
	-a diff \
	-a cadaver -a ftp \
	'

# Other
alias yv=youtube-viewer
alias mdl='yv -n -d --convert-to=mp3'
alias ytf='youtube-dl --list-formats'
alias pg='ping gnu.org'
alias pgs='ping -c 3 gnu.org'
alias ffmpeg='ffmpeg -hide_banner'
alias help2man='help2man -N'

# Languages
alias scls='sbcl --script'
alias rscl='rlwrap sbcl'
alias jle='julia -e'
alias pyc='python -c'
alias nimm='hm nim -h --fullhelp'
alias nbup="nimble list -i | cut -d' ' -f1 | xargs nimble install -n"
alias chn='choosenim'
alias rooc='rlwrap ocaml'
alias opup='opam update && opam upgrade'
alias openv='eval $(opam env)'
PYPY='pypy3'
PYPYP="/opt/$PYPY/bin"
alias ipp="$PYPYP/ipython"
alias ibp="$PYPYP/bpython"
alias ppip="$PYPYP/pip"
alias pypym="$PYPY -m"

# git
alias gst='git status'
alias grc='git remote show'
alias gcb='git branch --no-color --show-current'
alias gad='git add'
alias gal='gad .'
alias gcm='git commit -m'
alias gsh='git push'
alias gll='git pull'
alias gho='git push $(grc) $(gcb)'
alias glo='git pull $(grc) $(gcb)'

if [ $(uname) = "FreeBSD" ]
then

    alias gdiff='gdiff --color=always'
    alias upg='pkg upgrade'
    alias rmun='pkg autoremove'
    alias pkc='pkg clean'
    alias ins='pkg install'
    alias pinf='pkg info'
    alias pfl='pkg list'
    alias pls='pkg info -q'
    alias rorp='pkg autoremove'

    alias fpr='ps -ax -o rss= -o pid= -o user= -o args= -o state= -o pcpu= |
	its_just_grep -v its_just_grep | its_just_grep -E'

    alias fprh="ps -ax -o rss= -o pid= -o user= -o args= -o state= -o pcpu= |
	gnumfmt --from-unit=1K --field=1,2 --to=iec | \
	its_just_grep -v its_just_grep | its_just_grep -E"

    # it needs script or link for watch program
    alias watch=wathcs
    alias updatedb='/usr/libexec/locate.updatedb'

else

    alias pc=pcurses
    alias pa=pacman
    alias pacman='pacman --color=always'
    alias paru='paru --color=always'

    alias diff='diff --color=always'
    alias upg='pacman -Syu'
    alias rmun='pacman -Rus $(pacman -Qqtd)'
    alias pkc='pacman -Sc'
    alias ins='pacman -S'
    alias pinf='pacman -Qi'
    alias pfl='pacman -Ql'
    alias pls='pacman -Q'
    alias rorp='pacman -Rus $(pacman -Qqtd)'

    alias fpr='ps axh o rss,pid,user,cmd,state,pcpu | \
	its_just_grep -v its_just_grep | its_just_grep -E'
    alias fprh="ps axh o rss,pid,user,cmd,state,pcpu | \
	numfmt --from-unit=1K --field=1,2 --to=iec | \
	its_just_grep -v its_just_grep | its_just_grep -E"

    #alias w1='watch -n 1 -d'
    #alias w1c='watch -n 1 -d -c'
    alias w1='wat 1'
    alias w1c='watc 1'
    alias ws='w1 sensors'
    alias wsc='w1 "sensors | egrep -v \"^$\""'
    alias wst='w1c "sensors | grep --color=always Â°"'
    alias gt='/bin/time'
    alias gtv='/bin/time -v'

fi
